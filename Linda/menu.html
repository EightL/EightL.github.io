<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Mik√Ω≈ôova cesta za ingredienciami</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #fffbe8;
            min-height: 100vh;
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
        }
        .main-menu-container {
            margin-top: 48px;
            background: #fffbe8;
            border-radius: 18px;
            box-shadow: 0 4px 32px rgba(0,0,0,0.08);
            padding: 32px 28px 24px 28px;
            min-width: 260px;
            max-width: 90vw;
            text-align: center;
        }
        .modal-title {
            font-size: 1.6rem;
            font-weight: bold;
            color: #b08a4a;
            margin-bottom: 18px;
        }
        .minigame-list {
            font-size:1.1rem;
            color:#7a5c1b;
            margin-bottom: 24px;
        }
        .minigame-list ul {
            list-style:none;
            padding:0;
            margin:0;
        }
        .minigame-item {
            padding: 16px 20px;
            margin: 10px 0;
            background: #f7e6b3;
            border: 2px solid #e6cfa3;
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.2s;
            user-select: none;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .minigame-item:hover {
            background: #ffeec2;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .minigame-item.completed {
            background: #d4edda;
            border-color: #c3e6cb;
            color: #155724;
        }
        .minigame-item.completed:hover {
            background: #c3e6cb;
        }
        .ingredient-side {
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: 600;
        }
        .minigame-side {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.95rem;
            opacity: 0.8;
        }
        .minigame-icon {
            font-size: 1.2rem;
        }
        .back-btn {
            display: inline-block;
            margin-top: 18px;
            padding: 10px 22px;
            background: #f7e6b3;
            color: #7a5c1b;
            border: 2px solid #e6cfa3;
            border-radius: 12px;
            font-size: 1.1rem;
            font-family: inherit;
            text-decoration: none;
            font-weight: bold;
            transition: background 0.15s;
        }
        .back-btn:hover {
            background: #ffeec2;
        }
    </style>
</head>
<body>
<audio id="birthday-music" src="happy-birthday-155461.mp3" autoplay loop style="display:none"></audio>
<script>
// Try to play music immediately on page load
document.addEventListener('DOMContentLoaded', function() {
  var audio = document.getElementById('birthday-music');
  if (audio) {
    // Try to play immediately
    var playPromise = audio.play();
    if (playPromise !== undefined) {
      playPromise.catch(function(error) {
        // Autoplay was prevented, set up click listener
        console.log('Autoplay prevented, waiting for user interaction');
      });
    }
  }
});

// Also try to play on any user interaction
window.addEventListener('click', function playMusicOnce() {
  var audio = document.getElementById('birthday-music');
  if (audio && audio.paused) {
    audio.play().catch(function(error) {
      console.log('Could not play audio:', error);
    });
  }
  // Don't remove the listener, keep it for future interactions
});

// Try to play on touch events too
window.addEventListener('touchstart', function() {
  var audio = document.getElementById('birthday-music');
  if (audio && audio.paused) {
    audio.play().catch(function(error) {
      console.log('Could not play audio:', error);
    });
  }
}, { passive: true });
</script>
    <div class="main-menu-container">
        <div class="modal-title">Mik√Ω≈ôova cesta za ingredienciami</div>
        <div class="minigame-list">
            <ul>
                <li class="minigame-item" data-minigame="cinnabon" onclick="window.location.href='preklad.html'">
                    <div class="ingredient-side">ü•ê Cinnabon</div>
                    <div class="minigame-side"><span class="minigame-icon">üéØ</span> Preklad</div>
                </li>
                <li class="minigame-item" data-minigame="matcha" onclick="window.location.href='trivia.html'">
                    <div class="ingredient-side">üçµ Matcha</div>
                    <div class="minigame-side"><span class="minigame-icon">‚ùì</span> Trivia</div>
                </li>
                <li class="minigame-item" data-minigame="sushi" onclick="window.location.href='escape-room.html'">
                    <div class="ingredient-side">üç£ Sushi</div>
                    <div class="minigame-side"><span class="minigame-icon">üö™</span> TSP testy 2.0</div>
                </li>
                <li class="minigame-item" data-minigame="salat" onclick="window.location.href='matematika.html'">
                    <div class="ingredient-side">ü•ó ≈†al√°t</div>
                    <div class="minigame-side"><span class="minigame-icon">üî¢</span> Matematika</div>
                </li>
                <li class="minigame-item" data-minigame="klasek" onclick="window.location.href='zolik.html'">
                    <div class="ingredient-side">üßÅ Kl√°sek Buchta</div>
                    <div class="minigame-side"><span class="minigame-icon">üéÆ</span> ≈Ωol√≠ky</div>
                </li>
                <li class="minigame-item" data-minigame="prosecco" onclick="window.location.href='volleyball.html'">
                    <div class="ingredient-side">üçæ Prosecco</div>
                    <div class="minigame-side"><span class="minigame-icon">üèê</span> Volejbal</div>
                </li>
            </ul>
        </div>
        <a href="index.html" class="back-btn">Sp√§≈• do kuchyne</a>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const minigameItems = document.querySelectorAll('.minigame-item');
            
            // Check and mark completed minigames
            function updateMinigameStatus() {
                minigameItems.forEach(item => {
                    const minigameKey = item.dataset.minigame;
                    const isCompleted = localStorage.getItem(`minigame_${minigameKey}`) === 'completed';
                    
                    if (isCompleted) {
                        item.classList.add('completed');
                        const ingredientSide = item.querySelector('.ingredient-side');
                        const minigameSide = item.querySelector('.minigame-side');
                        if (ingredientSide && minigameSide) {
                            ingredientSide.innerHTML = '‚úÖ ' + ingredientSide.innerHTML;
                            minigameSide.innerHTML = '<span class="minigame-icon">‚úÖ</span> Splnen√©';
                        }
                    }
                });
            }
            
            // Handle minigame clicks
            minigameItems.forEach(item => {
                item.addEventListener('click', function(e) {
                    // Prevent default if item has onclick attribute (for navigation)
                    if (this.hasAttribute('onclick')) {
                        return; // Let the onclick handle navigation
                    }
                    
                    const minigameKey = this.dataset.minigame;
                    const isCompleted = localStorage.getItem(`minigame_${minigameKey}`) === 'completed';
                    
                    if (!isCompleted) {
                        // Complete the minigame
                        localStorage.setItem(`minigame_${minigameKey}`, 'completed');
                        this.classList.add('completed');
                        const ingredientSide = this.querySelector('.ingredient-side');
                        const minigameSide = this.querySelector('.minigame-side');
                        if (ingredientSide && minigameSide) {
                            ingredientSide.innerHTML = '‚úÖ ' + ingredientSide.innerHTML;
                            minigameSide.innerHTML = '<span class="minigame-icon">‚úÖ</span> Splnen√©';
                        }
                        
                        // Show completion feedback
                        this.style.transform = 'scale(1.05)';
                        setTimeout(() => {
                            this.style.transform = '';
                        }, 200);
                        
                        // Optional: Add some celebration effect
                        const originalBg = this.style.background;
                        this.style.background = '#28a745';
                        setTimeout(() => {
                            this.style.background = '';
                        }, 300);
                    }
                });
            });
            
            // Initialize status on page load
            updateMinigameStatus();
        });
    </script>
</body>
</html> 